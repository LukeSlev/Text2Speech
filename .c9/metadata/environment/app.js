{"filter":false,"title":"app.js","tooltip":"/app.js","undoManager":{"mark":35,"position":35,"stack":[[{"start":{"row":0,"column":0},"end":{"row":86,"column":0},"action":"remove","lines":["var express       = require(\"express\"),","    app           = express(),","    mongoose      = require('mongoose'),","    bodyParser    = require(\"body-parser\"),","    flash         = require(\"connect-flash\"),","    session       = require('express-session');","//Configurations-------------------------------------------->","// console.log(process.env.MDATABASEURL);","mongoose.connect(process.env.MDATABASEURL);","","app.use(bodyParser.urlencoded({extended:true}));","app.use(bodyParser.json());","app.use(express.static(__dirname));","app.use(express.static(__dirname + \"/public\"));","app.use(express.static(__dirname + \"/public/css\"));","app.use(flash());","app.set(\"view engine\", \"ejs\");","","app.use(session({","    cookieName: 'session',","    secret: \"Secret Louis\",","    resave: false,","    saveUninitialized: false,","    duration: 30 * 60 * 1000,","    activeDuration: 5 * 60 * 1000,","    secure : true","}));","","app.use(function(request, response, next){","    //Inside ejs templates","    response.locals.error = request.flash(\"error\");","    next();","});","","//Middleware------------------------------------------------>","","//Routes---------------------------------------------------->","var main_Route  = require(\"./routes/index\");","","app.use(main_Route);","    ","var cases_Route       = require(\"./routes/parts/case\"),","    coolers_Route      = require(\"./routes/parts/cooler\"),","    cpus_Route         = require(\"./routes/parts/cpu\"),","    gpus_Route         = require(\"./routes/parts/gpu\"),","    hdds_Route         = require(\"./routes/parts/hdd\"),","    memory_Route      = require(\"./routes/parts/memory\"),","    motherboards_Route = require(\"./routes/parts/motherboard\"),","    psus_Route         = require(\"./routes/parts/psu\"),","    water_Route       = require(\"./routes/parts/water\");","    ","app.use(cases_Route);    ","app.use(coolers_Route);    ","app.use(cpus_Route);    ","app.use(gpus_Route);    ","app.use(hdds_Route);    ","app.use(memory_Route);    ","app.use(motherboards_Route);    ","app.use(psus_Route);    ","app.use(water_Route);    ","","var icons_Route           = require(\"./routes/dev/icons\"),","    notifications_Route   = require(\"./routes/dev/notifications\"),","    table_Route           = require(\"./routes/dev/table\"),","    typography_Route      = require(\"./routes/dev/typography\"),","    user_Route            = require(\"./routes/dev/user\");","","app.use(icons_Route);","app.use(notifications_Route);","app.use(table_Route);","app.use(typography_Route);","app.use(user_Route);","","// var http = require(\"http\");","// setInterval(function() {","//     http.get(\"http://memorybrain.herokuapp.com\");","//     //console.log(\"pinged\");","// }, 60000); ","","app.get(\"*\", function(request, response){","    response.send(\"Bad Request!\"); ","});","","app.listen(process.env.PORT, process.env.IP, function(){","    console.log(\"Server started!\");","});",""],"id":2}],[{"start":{"row":0,"column":0},"end":{"row":8,"column":59},"action":"insert","lines":["// server.js","const express = require('express');","const bodyParser = require('body-parser');","const path = require('path');","const index = require('./routes/index');","const tasks = require('./routes/tasks'); ","","const app = express();","let port = process.env.PORT || 3000 // sets a relative port"],"id":3}],[{"start":{"row":2,"column":0},"end":{"row":2,"column":5},"action":"remove","lines":["const"],"id":4}],[{"start":{"row":3,"column":0},"end":{"row":3,"column":5},"action":"remove","lines":["const"],"id":5}],[{"start":{"row":4,"column":0},"end":{"row":4,"column":5},"action":"remove","lines":["const"],"id":6}],[{"start":{"row":5,"column":0},"end":{"row":5,"column":5},"action":"remove","lines":["const"],"id":7}],[{"start":{"row":1,"column":34},"end":{"row":1,"column":35},"action":"remove","lines":[";"],"id":8}],[{"start":{"row":1,"column":34},"end":{"row":1,"column":35},"action":"insert","lines":[","],"id":9}],[{"start":{"row":2,"column":36},"end":{"row":2,"column":37},"action":"remove","lines":[";"],"id":10}],[{"start":{"row":2,"column":36},"end":{"row":2,"column":37},"action":"insert","lines":[","],"id":11}],[{"start":{"row":3,"column":23},"end":{"row":3,"column":24},"action":"remove","lines":[";"],"id":12}],[{"start":{"row":3,"column":23},"end":{"row":3,"column":24},"action":"insert","lines":[","],"id":13}],[{"start":{"row":4,"column":34},"end":{"row":4,"column":35},"action":"remove","lines":[";"],"id":14}],[{"start":{"row":4,"column":34},"end":{"row":4,"column":35},"action":"insert","lines":[","],"id":15}],[{"start":{"row":2,"column":1},"end":{"row":2,"column":4},"action":"insert","lines":["   "],"id":16}],[{"start":{"row":3,"column":1},"end":{"row":3,"column":4},"action":"insert","lines":["   "],"id":17}],[{"start":{"row":4,"column":1},"end":{"row":4,"column":4},"action":"insert","lines":["   "],"id":18}],[{"start":{"row":5,"column":1},"end":{"row":5,"column":4},"action":"insert","lines":["   "],"id":19}],[{"start":{"row":2,"column":4},"end":{"row":2,"column":8},"action":"insert","lines":["    "],"id":20}],[{"start":{"row":2,"column":4},"end":{"row":2,"column":8},"action":"remove","lines":["    "],"id":21}],[{"start":{"row":2,"column":0},"end":{"row":2,"column":4},"action":"remove","lines":["    "],"id":22}],[{"start":{"row":2,"column":0},"end":{"row":2,"column":4},"action":"insert","lines":["    "],"id":23}],[{"start":{"row":2,"column":4},"end":{"row":2,"column":8},"action":"insert","lines":["    "],"id":24}],[{"start":{"row":2,"column":4},"end":{"row":2,"column":8},"action":"remove","lines":["    "],"id":25}],[{"start":{"row":2,"column":4},"end":{"row":2,"column":8},"action":"insert","lines":["    "],"id":26}],[{"start":{"row":2,"column":4},"end":{"row":2,"column":8},"action":"remove","lines":["    "],"id":27}],[{"start":{"row":8,"column":59},"end":{"row":9,"column":0},"action":"insert","lines":["",""],"id":28}],[{"start":{"row":9,"column":0},"end":{"row":10,"column":0},"action":"insert","lines":["",""],"id":29}],[{"start":{"row":10,"column":0},"end":{"row":23,"column":3},"action":"insert","lines":["// Setup View Engine","app.set('views', path.join(__dirname, 'views'));","app.set('view engine', 'ejs'); //specifies the engine we want to use","app.engine('html', require('ejs').renderFile); //renders files with html extension","// Set Static Folder","app.use(express.static(__dirname, 'client')); ","app.use(bodyParser.json());","app.use(bodyParser.urlencoded({extended: false}));","app.use('/', index); //sets our home page route","app.use('/api', tasks); //sets our api call routes","//Starts our server","app.listen(port, function() {","  console.log('We have successfully connected to port: ', port);","});"],"id":30}],[{"start":{"row":17,"column":50},"end":{"row":18,"column":0},"action":"insert","lines":["",""],"id":31}],[{"start":{"row":21,"column":19},"end":{"row":22,"column":0},"action":"insert","lines":["",""],"id":32}],[{"start":{"row":21,"column":19},"end":{"row":22,"column":0},"action":"remove","lines":["",""],"id":33}],[{"start":{"row":21,"column":0},"end":{"row":22,"column":0},"action":"insert","lines":["",""],"id":34}],[{"start":{"row":22,"column":0},"end":{"row":23,"column":0},"action":"insert","lines":["",""],"id":35}],[{"start":{"row":21,"column":0},"end":{"row":22,"column":0},"action":"insert","lines":["",""],"id":36}],[{"start":{"row":22,"column":0},"end":{"row":24,"column":2},"action":"insert","lines":["app.get('/', function(req, response){","    response.send('hello');","})"],"id":37}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":17,"column":38},"end":{"row":17,"column":38},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1517125246555,"hash":"efc463500a2d09ab94b7a966b4c071f58447b4c6"}